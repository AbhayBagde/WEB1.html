<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title > SIGN UP</title>
	<link rel="stylesheet" type="text/css" href="signup.css">
	<link rel="ICON" type="x icon"  href="https://i.ibb.co/61nw8tg/Add-Text-01-03-11-17-23.png">
</head>
<body>
<div class="bg">
	
</div>
    <div class="container">
	<div class="content">
		<div class="head"> SIGN UP</div>
		<br>
		<br>
		<br>
		<br>
		<div class="det">
		
		<br>
		<center><input type="text" class="in1" placeholder="Enter Institute Email" style="background-color:rgba(0, 0, 0, 0);" id="email"></center><br><br>
		<center><input type="Password" name="Password" class="in1" placeholder="Enter Password" style="background-color:rgba(0, 0, 0, 0);" id="Password"></center><br>
		<br>
		<center><input type="Password" class="in2" name="Password"placeholder="Re-enter Password" style="background-color:rgba(0, 0, 0, 0);"></center>
		</div>
		<br>
		<br>
		<br>
		<br>
		<center><a href="WEB1.HTML"><button style="background-color:rgb(225, 45, 10)" id="register"> SIGN UP</button></a></center>
		<br>
		<br>
		<center><a href="login.html" class="link"> Alreday Signed Up? Click here to Log In </a></center>



	</div>
</div>
</body>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDSK0H4Dj2twQ5F-T6zb1WU9bJQ8iWLUnw",
    authDomain: "auth-efee9.firebaseapp.com",
    projectId: "auth-efee9",
    storageBucket: "auth-efee9.appspot.com",
    messagingSenderId: "146002539859",
    appId: "1:146002539859:web:25f89a4bef2a1171195da6",
    measurementId: "G-7H34B9GHVF"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase();
  const auth = getAuth();

  let name = document.querySelector(".name")
  let signUpEmail = document.querySelector(".sign-up-email")
  let signUpPassword = document.querySelector(".sign-up-password")
  let signUp = document.querySelector(".sign-up")

  let RegisterUser = evt => {
    evt.preventDefault();
    createUserWithEmailAndPassword(auth, signUpEmail.value, signUpPassword.value)
      .then((credentials) => {
        console.log(credentials);
        alert("New user created successfully")
        set(ref(db, 'UsersAuthList/' + credentials.user.uid), {
          name: name.value,
        })
        window.location.href = "login.html"
      })
      .catch((error) => {
        console.log(error.code);
        console.log(error.message);
      })
  }
  signUp.addEventListener('submit', RegisterUser)
</script>

</html>